<html>
  <head>
    <title>JWT Generator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
  </head>
  <body>
    <textarea name="json" id="" cols="30" rows="10"></textarea>
    <button type="button" onclick="generateJWT()">Generate JWT</button>
  </body>
  <script>
    function generateJWT() {
      const textarea = document.querySelector("textarea");
      console.log(CryptoJS);
      try {
        const json = JSON.parse(textarea.value);

        const header = {
          alg: "HS256",
          typ: "JWT",
        }

        const stringifiedHeader = CryptoJS.env.Utf8.parse(JSON.stringify(header))
        console.log(json);
      } catch (e) {
        console.error("Is not a JSON");
      }
    }

    function base64url(source) {
      const encodedSource = CryptoJS.enc.Base64.stringify(source);

      return encodedSource;
    }

    function signatureJWT(json) {}
  </script>
</html>
